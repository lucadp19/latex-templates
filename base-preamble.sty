% \ProvidePackage{base-preamble}[2020/10/07 1.0.0 General preamble]
\usepackage{kvoptions}
\usepackage{ifthen}
\SetupKeyvalOptions{
    family=preamble,
    prefix=preamble@,
}

\DeclareStringOption[ctstyle]{style}[modernth]
\DeclareStringOption[defthm]{thmstyle}[defthm]
\DeclareBoolOption[false]{colors}

\ProcessKeyvalOptions*

\usepackage{common}
\usepackage{float}
\restylefloat{table}

% If style is classic-thesis
\ifthenelse{\equal{\preamble@style}{ctstyle}}{
    \usepackage[
        style=arsclassica, 
        pdfspacing, 
        beramono,
        eulerchapternumbers,
        palatino,
        eulermath
    ]{classicthesis}

    \usepackage[mathcal]{euscript}

    \renewcommand\large{\@setfontsize\large{11.5pt}{18}}


    \@ifundefined{chapter}{
        % empty
        % article classes
    }{
        \renewcommand\formatchapter[1]{% 
            \begin{minipage}[b]{0.15\linewidth}
            \chapterNumber
            \end{minipage}%
            \begin{minipage}[b]{0.6\linewidth}
            \raggedright\spacedallcaps{#1}
            \end{minipage}
        }
        \renewcommand*{\chapterformat}{%
            \mbox{\chapappifchapterprefix{\nobreakspace}%
            \scalebox{2}{\color{gray}\thechapter\autodot}\enskip}
        }
    }

    % sections
    \titleformat{\section}%
        {\centering\normalfont\LARGE\sffamily}{\textsc%
    {\MakeTextLowercase{\thesection}}}%
    {1em}{\spacedlowsmallcaps}
    % subsection
    \titleformat{\subsection}
    %   {\relax}
        {\normalfont\sffamily}
    {\textsc{\MakeTextLowercase{\thesubsection}}}{1em}{\large\spacedlowsmallcaps}
}{}

% <******************************************************> %
% <******************* THEOREM STYLES *******************> %
% <******************************************************> %
\newcommand{\boximpl}{\fcolorbox{Black}{white}{$\implies$}}
\newcommand{\boximplby}{\fcolorbox{Black}{white}{$\impliedby$}}

\ifthenelse{\equal{\preamble@thmstyle}{margin-name}}{%
    \usepackage{marginnamethm}
}{}

\ifthenelse{\equal{\preamble@thmstyle}{boxed}}{%
    \ifpreamble@colors
        \usepackage[colors]{boxed-thm}
    \else
        \usepackage{boxed-thm}
    \fi
}{}

\ifthenelse{\equal{\preamble@thmstyle}{simple}}{%
    \usepackage{simple-thm}
}{}

\ifthenelse{\equal{\preamble@thmstyle}{defthm}}{%
    \usepackage{defthm}
}{}

\endinput